<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Simulator Poin Loyalty SNN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@600;800;900&family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            -webkit-tap-highlight-color: transparent;
        }
        .font-outfit { font-family: 'Outfit', sans-serif; }
        
        #res-poin {
            transition: font-size 0.2s ease-out;
            line-height: 1;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .touch-press:active {
            transform: scale(0.98);
            transition: transform 0.1s;
        }

        @keyframes shine {
            from { left: -100%; }
            to { left: 100%; }
        }
        .shine-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.4), transparent);
            transform: skewX(-25deg);
            animation: shine 3s infinite;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">
    <div class="max-w-6xl mx-auto pb-10">
        
        <!-- Header Section with Accurate SNN Brand Logo -->
        <div class="bg-slate-900 md:rounded-[2.5rem] p-6 md:p-12 text-white relative overflow-hidden shadow-2xl">
            <div class="relative z-10 flex flex-col md:flex-row justify-between items-center gap-8">
                
                <!-- Logo & Brand Info -->
                <div class="flex flex-col md:flex-row items-center gap-6 text-center md:text-left">
                    <div class="relative group cursor-default">
                        <div class="relative w-24 h-24 md:w-28 md:h-28 bg-white rounded-3xl flex flex-col items-center justify-center shadow-2xl overflow-hidden shine-effect">
                            <svg viewBox="0 0 100 100" class="w-full h-full">
                                <rect x="0" y="0" width="100" height="15" fill="#f59e0b" />
                                <text x="50" y="55" font-family="Outfit" font-weight="900" font-size="34" text-anchor="middle" fill="#0f172a" letter-spacing="-1">SNN</text>
                                <rect x="15" y="68" width="70" height="4" rx="2" fill="#e2e8f0" />
                                <text x="50" y="82" font-family="Plus Jakarta Sans" font-weight="800" font-size="7" text-anchor="middle" fill="#64748b" letter-spacing="1">TRUSTED PARTNER</text>
                            </svg>
                        </div>
                        <div class="absolute -bottom-2 -right-2 bg-amber-500 text-slate-900 font-black text-[8px] px-2 py-1 rounded-lg border-2 border-slate-900 shadow-lg">GOLD</div>
                    </div>
                    
                    <div>
                        <div class="flex flex-col md:flex-row md:items-center gap-1 md:gap-3">
                            <h1 class="text-3xl md:text-5xl font-black font-outfit tracking-tight">SIMULATOR <span class="text-amber-400">CUAN</span></h1>
                            <span class="hidden md:block h-8 w-[2px] bg-slate-700"></span>
                            <div class="bg-amber-400 text-slate-900 px-3 py-1 rounded-md text-[10px] md:text-xs font-black self-center md:self-auto tracking-widest uppercase">LOYALTY PROGRAM</div>
                        </div>
                        <p class="text-slate-100 mt-1 md:mt-2 text-sm md:text-xl font-extrabold tracking-[0.15em] uppercase">Sata Niaga Nusantara</p>
                        <p class="text-slate-500 text-[10px] md:text-xs font-semibold uppercase mt-1">Distributor Perlengkapan Tani • Perabotan • Bangunan</p>
                    </div>
                </div>

                <!-- Rate Info -->
                <div class="bg-white/5 backdrop-blur-xl px-6 py-5 rounded-[2rem] border border-white/10 text-center w-full md:w-auto shadow-inner">
                    <p class="text-[10px] uppercase font-black text-amber-500 tracking-widest mb-1">Loyalty Exchange Rate</p>
                    <p class="text-xl md:text-3xl font-black font-outfit text-white">1 Pt = <span class="text-amber-400">Rp 50</span></p>
                </div>
            </div>
            
            <div class="absolute -right-20 -bottom-20 w-80 h-80 bg-amber-500/10 rounded-full blur-[100px]"></div>
        </div>

        <!-- Main Content -->
        <div class="px-4 md:px-0 mt-8 grid lg:grid-cols-3 gap-8">
            
            <!-- Input Area -->
            <div class="lg:col-span-2 space-y-6">
                <div class="bg-white rounded-[2.5rem] p-6 md:p-10 shadow-xl border border-slate-200 relative overflow-hidden">
                    <div class="flex items-center gap-4 mb-8">
                        <div class="w-10 h-10 bg-slate-900 text-amber-400 rounded-xl flex items-center justify-center font-black text-lg shadow-lg">1</div>
                        <h3 class="text-xl md:text-2xl font-black font-outfit text-slate-800">Estimasi Belanja</h3>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- GOLD Section -->
                        <div class="p-5 bg-amber-50/50 rounded-3xl border-2 border-amber-100 group transition-all focus-within:border-amber-400">
                            <div class="flex justify-between items-center mb-3">
                                <span class="bg-amber-400 text-slate-900 text-[10px] font-black px-3 py-1 rounded-full shadow-sm uppercase">Poin Turbo</span>
                                <span class="text-[10px] font-bold text-amber-700 tracking-wider">Rp 10.000 / 1 Poin</span>
                            </div>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 font-black text-slate-400">Rp</span>
                                <input type="text" id="v-turbo" inputmode="numeric" oninput="formatAndCalc(this)" placeholder="0" class="w-full bg-transparent p-2 pl-12 rounded-xl outline-none font-black text-2xl text-slate-800 placeholder:text-slate-300">
                            </div>
                        </div>

                        <!-- SILVER Section -->
                        <div class="p-5 bg-slate-50 rounded-3xl border-2 border-slate-100 group transition-all focus-within:border-slate-400">
                            <div class="flex justify-between items-center mb-3">
                                <span class="bg-slate-400 text-white text-[10px] font-black px-3 py-1 rounded-full shadow-sm uppercase">Poin Extra</span>
                                <span class="text-[10px] font-bold text-slate-500 tracking-wider">Rp 50.000 / 1 Poin</span>
                            </div>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 font-black text-slate-400">Rp</span>
                                <input type="text" id="v-ekstra" inputmode="numeric" oninput="formatAndCalc(this)" placeholder="0" class="w-full bg-transparent p-2 pl-12 rounded-xl outline-none font-black text-2xl text-slate-800 placeholder:text-slate-300">
                            </div>
                        </div>

                        <!-- BRONZE Section -->
                        <div class="p-5 bg-orange-50/30 rounded-3xl border-2 border-orange-100 group transition-all focus-within:border-orange-400">
                            <div class="flex justify-between items-center mb-3">
                                <span class="bg-orange-700/80 text-white text-[10px] font-black px-3 py-1 rounded-full shadow-sm uppercase">Poin Reguler</span>
                                <span class="text-[10px] font-bold text-orange-800/60 tracking-wider">Rp 100.000 / 1 Poin</span>
                            </div>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 font-black text-slate-400">Rp</span>
                                <input type="text" id="v-reguler" inputmode="numeric" oninput="formatAndCalc(this)" placeholder="0" class="w-full bg-transparent p-2 pl-12 rounded-xl outline-none font-black text-2xl text-slate-800 placeholder:text-slate-300">
                            </div>
                        </div>
                    </div>

                    <!-- Speed Payment Bonus Toggle -->
                    <div class="mt-8 p-6 bg-emerald-900 text-white rounded-[2rem] flex items-center justify-between gap-4 shadow-xl shadow-emerald-900/10">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-emerald-400">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-black text-sm uppercase tracking-widest text-emerald-300 italic">Speed Payment Bonus</h4>
                                <p class="text-[10px] text-emerald-100 font-bold opacity-80 uppercase">Ekstra +10% Poin (Bayar via Transfer)</p>
                            </div>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer scale-125">
                            <input type="checkbox" id="v-transfer" onchange="calc()" class="sr-only peer">
                            <div class="w-11 h-6 bg-emerald-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-400"></div>
                        </label>
                    </div>
                </div>

                <!-- Credit Limit Tracker (NEW FEATURE) -->
                <div class="bg-white rounded-[2.5rem] p-6 md:p-10 shadow-xl border border-slate-200">
                    <div class="flex items-center justify-between mb-8">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 bg-blue-900 text-blue-100 rounded-xl flex items-center justify-center font-black text-lg shadow-lg">2</div>
                            <h3 class="text-xl md:text-2xl font-black font-outfit text-slate-800">Limit Kredit Terbuka</h3>
                        </div>
                        <div class="hidden md:block bg-blue-50 text-blue-700 px-4 py-1 rounded-full text-[10px] font-black tracking-widest">ESTIMASI FASILITAS</div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div class="space-y-4">
                            <div class="flex justify-between items-end">
                                <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Plafon Kredit Maksimal</span>
                                <span id="res-limit" class="text-2xl font-black font-outfit text-blue-600">Rp 0</span>
                            </div>
                            <div class="w-full h-4 bg-slate-100 rounded-full p-1 border border-slate-200">
                                <div id="limit-bar" class="h-full bg-gradient-to-r from-blue-400 to-blue-700 rounded-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(59,130,246,0.3)]" style="width: 0%"></div>
                            </div>
                            <div class="flex justify-between text-[9px] font-bold text-slate-400 uppercase tracking-tighter">
                                <span>CASH ONLY</span>
                                <span>UP TO RP 50JT+</span>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50/50 border border-blue-100 rounded-[1.5rem] p-4">
                            <p class="text-[10px] text-blue-800 font-bold leading-relaxed">
                                <span class="text-blue-600 block mb-1">INFO KREDIT:</span>
                                Limit kredit diberikan bertahap berdasarkan rata-rata belanja bulanan dan riwayat pembayaran. Simulasi ini menggunakan rasio 30% dari total belanja yang diinput.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar: Result & Reward -->
            <div class="space-y-6">
                <!-- Loyalty Points Result -->
                <div class="bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-200 text-center flex flex-col items-center justify-center min-h-[320px] relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-3 bg-amber-500"></div>
                    <div class="absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none select-none">
                        <span class="font-black font-outfit text-9xl">SNN</span>
                    </div>
                    
                    <h3 class="text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4">Poin Terkumpul</h3>
                    <div class="flex items-baseline justify-center gap-2 w-full">
                        <span id="res-poin" class="font-black font-outfit text-slate-900 tracking-tighter text-7xl md:text-8xl">0</span>
                        <span class="text-xl font-black text-slate-400">Pts</span>
                    </div>
                    
                    <div class="mt-6 flex flex-col gap-2 w-full max-w-[200px]">
                        <div id="res-cash" class="px-4 py-2 bg-slate-900 text-amber-400 rounded-full font-black text-[11px] tracking-widest shadow-lg uppercase">Nilai Tunai: Rp 0</div>
                    </div>
                </div>

                <!-- Reward Tracker -->
                <div class="bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-200">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-8 h-8 bg-amber-100 text-amber-600 rounded-lg flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 012 2v4a2 2 0 01-2 2h-1v1a2 2 0 01-2 2H7a2 2 0 01-2-2v-1H4a2 2 0 01-2-2V8a2 2 0 012-2h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <h3 class="text-xs font-black text-slate-800 uppercase tracking-widest">Target Reward SNN</h3>
                    </div>
                    
                    <div class="relative mb-6">
                        <select id="target-hadiah" onchange="calc()" class="w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-sm text-slate-700 outline-none focus:border-amber-500 appearance-none cursor-pointer">
                            <option value="150000">Motor Operasional (150rb Pts)</option>
                            <option value="420000">Tiket Umroh Platinum (420rb Pts)</option>
                            <option value="50000">Logam Mulia 5gr (50rb Pts)</option>
                            <option value="10000">Voucher Belanja 500rb (10rb Pts)</option>
                        </select>
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="flex justify-between items-end">
                            <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Progres Reward</span>
                            <span id="progress-pct" class="text-2xl font-black font-outfit text-amber-500">0%</span>
                        </div>
                        <div class="w-full h-4 bg-slate-100 rounded-full p-1 border border-slate-200">
                            <div id="progress-bar" class="h-full bg-gradient-to-r from-amber-400 to-amber-600 rounded-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(245,158,11,0.4)]" style="width: 0%"></div>
                        </div>
                        <p id="progress-msg" class="text-center text-[10px] font-bold text-slate-500 italic uppercase tracking-wider mt-4">Pilih target hadiah impian!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-12 text-center px-6">
            <div class="inline-flex items-center gap-4 bg-white px-6 py-2 rounded-full border border-slate-200 shadow-sm mb-6">
                <span class="text-[9px] font-black text-slate-400 uppercase tracking-widest">Official Calculator</span>
                <span class="h-3 w-[1px] bg-slate-300"></span>
                <span class="text-[10px] font-black text-amber-600 uppercase tracking-widest">SNN &copy; 2026</span>
            </div>
            <p class="text-[8px] md:text-[10px] font-bold text-slate-400 uppercase tracking-[0.5em] leading-relaxed">Sata Niaga Nusantara &bull; Memberikan Solusi Terbaik Untuk Mitra</p>
        </div>
    </div>

    <script>
        function formatNumber(val) {
            if (!val) return "";
            let num = val.toString().replace(/[^0-9]/g, "");
            return num.replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function getRawValue(id) {
            let val = document.getElementById(id).value;
            return parseFloat(val.replace(/\./g, "")) || 0;
        }

        function formatAndCalc(el) {
            let rawValue = el.value.replace(/[^0-9]/g, "");
            el.value = formatNumber(rawValue);
            calc();
        }

        function updateFontSize(element, text) {
            const length = text.length;
            const isMobile = window.innerWidth < 768;
            let fontSize = isMobile ? 'text-6xl' : 'text-8xl';
            
            if (length > 12) fontSize = isMobile ? 'text-xl' : 'text-3xl';
            else if (length > 10) fontSize = isMobile ? 'text-2xl' : 'text-4xl';
            else if (length > 8) fontSize = isMobile ? 'text-4xl' : 'text-5xl';
            else if (length > 6) fontSize = isMobile ? 'text-5xl' : 'text-6xl';

            element.className = `font-black font-outfit text-slate-900 tracking-tighter transition-all duration-300 ${fontSize}`;
        }

        function calc() {
            const t = getRawValue('v-turbo');
            const e = getRawValue('v-ekstra');
            const r = getRawValue('v-reguler');
            const isTransfer = document.getElementById('v-transfer').checked;
            const targetPoinReward = parseInt(document.getElementById('target-hadiah').value);

            // 1. Points Calculation
            const pT = t / 10000;
            const pE = e / 50000;
            const pR = r / 100000;
            
            let basePoin = pT + pE + pR;
            let bonus = isTransfer ? (basePoin * 0.1) : 0; 
            const totalPoin = Math.floor(basePoin + bonus);
            
            // 2. Credit Limit Calculation (Estimate: 30% of total monthly purchase)
            const totalPurchase = t + e + r;
            const estimatedLimit = Math.floor(totalPurchase * 0.30);
            const maxSimulatedLimit = 50000000; // Limit bar fills at 50jt
            
            // Update Point Display
            const poinEl = document.getElementById('res-poin');
            const poinStr = totalPoin.toLocaleString('id-ID');
            poinEl.innerText = poinStr;
            updateFontSize(poinEl, poinStr);

            document.getElementById('res-cash').innerText = 'NILAI TUNAI: RP ' + (totalPoin * 50).toLocaleString('id-ID');

            // Update Progress Reward Bar
            const progReward = Math.min((totalPoin / targetPoinReward) * 100, 100);
            document.getElementById('progress-pct').innerText = Math.floor(progReward) + '%';
            document.getElementById('progress-bar').style.width = progReward + '%';
            
            // Update Credit Limit Bar
            document.getElementById('res-limit').innerText = 'Rp ' + formatNumber(estimatedLimit);
            const progLimit = Math.min((estimatedLimit / maxSimulatedLimit) * 100, 100);
            document.getElementById('limit-bar').style.width = progLimit + '%';

            // Message update
            const msgEl = document.getElementById('progress-msg');
            if (totalPoin === 0) {
                msgEl.innerText = "Pilih target hadiah impian!";
            } else if (progReward < 100) {
                msgEl.innerText = "Terus tingkatkan belanja untuk hadiah!";
            } else {
                msgEl.innerText = "TARGET REWARD TERCAPAI!";
            }
        }

        window.addEventListener('resize', calc);
    </script>
</body>
</html>
